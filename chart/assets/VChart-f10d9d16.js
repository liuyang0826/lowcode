import{b as u,a as s}from"./federation-shared-1482b2fe.js";import{s as Lt,a as p,b as h,g as m,__tla as Ct}from"./utils-8121a54a.js";let F,Tt=Promise.all([(()=>{try{return Ct}catch{}})()]).then(async()=>{function _(t,e){var o;const a=["hBar","scatterLine"].includes(t.type);return{show:t.xAxisShow??!0,name:t.xAxisName,position:t.xAxisPosition??"bottom",inverse:t.xAxisInverse??!1,scale:t.xScale??!1,axisLabel:{show:t.xAxisLableShow??!0,color:t.xAxisLableColor,fontSize:t.xAxisLableSize,rotate:t.xAxisLableRotate},axisLine:{show:t.xAxisLineShow??!0,onZero:t.xAxisLineOnZero??!0,lineStyle:{width:t.xAxisLineWidth,color:t.xAxisLineColor??"#333333"}},axisTick:{show:t.xAxisTickShow??!0,length:t.xAxisTickLength??5},splitLine:{show:t.xAxisSplitLineShow??!1,lineStyle:{color:t.xAxisSplitLineColor??"#cccccc",width:t.xAxisSplitLineWidth??1,type:t.xAxisSplitLineType}},type:a?"value":"category",data:a||(o=e.value)==null?void 0:o.map(i=>i[t.categoryKey])}}function H(t,e){var a;return{show:t.yAxisShow??!0,name:t.yAxisName,position:t.yAxisPosition??"bottom",inverse:t.yAxisInverse??!1,scale:t.yScale??!1,axisLabel:{show:t.yAxisLableShow??!0,color:t.yAxisLableColor,fontSize:t.yAxisLableSize,rotate:t.yAxisLableRotate},axisLine:{show:t.yAxisLineShow??!1,onZero:t.yAxisLineOnZero??!0,lineStyle:{width:t.yAxisLineWidth,color:t.yAxisLineColor??"#333333"}},axisTick:{show:t.yAxisTickShow??!1,length:t.yAxisTickLength??5},splitLine:{show:t.yAxisSplitLineShow??!1,lineStyle:{color:t.yAxisSplitLineColor??"#cccccc",width:t.yAxisSplitLineWidth??1,type:t.yAxisSplitLineType}},type:t.type==="hBar"?"category":"value",data:["barLine","scatter"].includes(t.type)||(a=e.value)==null?void 0:a.map(o=>o[t.categoryKey])}}function D(t,e){return Lt(e)?{xAxis:_(e,t),yAxis:H(e,t)}:{}}const I=await u("@rdx/shared"),E="isNullable";function P(t){const{dataZoomEnable:e,dataZoomType:a,dataZoomStart:o,dataZoomEnd:i}=t;if(!e)return{};if(a==="inside")return{dataZoom:[{type:"inside",start:o??0,end:i??100}]};const{dataZoomBackgroundColor:r,dataZoomLeft:n,dataZoomTop:l,dataZoomBorderColor:d,dataZoomBorderRadius:c,dataZoomDataBackgroundAreaStyleColor:x,dataZoomDataBackgroundAreaStyleOpacity:C,dataZoomSelectedDataBackgroundAreaStyleColor:y,dataZoomSelectedDataBackgroundAreaStyleOpacity:xt,dataZoomBottom:gt,dataZoomBottomUnit:St,dataZoomRight:bt,dataZoomRightUnit:ft,dataZoomFillerColor:At}=t,R=(wt,N,vt)=>s(I,E)(N)?{}:{[wt]:`${N}${vt}`};return{dataZoom:[{type:"slider",start:o??0,end:i??100,backgroundColor:r??"rgba(47,69,84,0)",left:n??"auto",top:l??"auto",...R("bottom",gt,St),...R("right",bt,ft),borderColor:d??"#d2dbee",borderRadius:c??3,fillerColor:At??"rgba(167,183,204,0.4)",dataBackground:{areaStyle:{color:x??"#d2dbee",opacity:C??.2}},selectedDataBackground:{areaStyle:{color:y??"#8fb0f7",opacity:xt??.2}}}]}}function U(t){return{left:t.gridLeft??32,right:t.gridRight??12,top:t.gridTop??24,bottom:t.gridBottom??24}}const b={left:t=>({left:t}),center:()=>({left:"center"}),right:t=>({right:t??0})},f={top:t=>({top:t}),middle:()=>({top:"middle"}),bottom:t=>({bottom:t??0})};function G(t){var e,a;return{show:t.legendShow??!1,...(e=b[t.legendXAlign])==null?void 0:e.call(b,t.legendXOffset),...(a=f[t.legendYAlign])==null?void 0:a.call(f,t.legendYOffset),orient:t.legendOrient,icon:t.legendIcon??"circle",itemWidth:t.legendItemWidth??15,itemHeight:t.legendItemHeight??15,selectedMode:t.legendSelectedMode??"multiple"}}function V(t,e){const{radarRadius:a,radarShape:o}=e;return["radar"].includes(e.type)?{radar:{radius:`${a??75}%`,shape:o??"polygon",indicator:t??[]}}:{}}const X={left:{left:"0",textAlign:"left"},center:{left:"50%",textAlign:"center"},right:{right:"0",textAlign:"left"}};function Y(t){return{show:t.titleShow,text:t.titleText,...X[t.titleAlign],textStyle:{color:t.titleColor??"#333333"}}}function j(t){return{show:t.tooltipShow,trigger:t.tooltipTrigger,axisPointer:{type:t.tooltipTrigger==="axis"?t.tooltipAxisPointerType:void 0}}}const q=await u("@rdx/shared"),J="isNullable";function M(t){const{name:e,barWidth:a,barWidthUnit:o,barGap:i,barCategoryGap:r,barCategoryGapUnit:n,itemStyleBorderRadius:l}=t,d=p(t),c=h(t),x=m(t,"blue");return{name:e,type:"bar",color:x,label:c,barWidth:s(q,J)(a)?void 0:`${a}${o??"px"}`,barGap:`${i??30}%`,barCategoryGap:`${r??20}${n??"%"}`,itemStyle:{...d,borderRadius:l}}}function Q(t,e){return t.map(a=>a[e.valueKey])}function tt(t){const{name:e,min:a,max:o,orient:i,sort:r,gap:n}=t,l=p(t),d=h(t),c=m(t);return{name:e,type:"funnel",color:c,label:d,itemStyle:l,min:a??0,max:o??100,orient:i??"vertical",sort:r??"descending",gap:n??0}}function et(t,e){return t.map(a=>{var o,i;return{value:a[((o=e.valueKey)==null?void 0:o.value)??""],name:a[((i=e.valueKey)==null?void 0:i.name)??""]}})}function T(t,e,a){const o=t[`${e}Color`],i=t[`${e}FontSize`],r=t[`${e}FontWeight`],n=t[`${e}FontStyle`],l=t[`${e}LineHeight`];return{color:o??(a==null?void 0:a[`${e}Color`]),fontSize:i??(a==null?void 0:a[`${e}FontSize`]),fontWeight:r??(a==null?void 0:a[`${e}FontWeight`]),fontStyle:n??(a==null?void 0:a[`${e}FontStyle`]),lineHeight:l??(a==null?void 0:a[`${e}LineHeight`])}}function at(t){const{name:e,min:a,max:o,splitNumber:i}=t,r=p(t),n=m(t);return{name:e,type:"gauge",color:n,itemStyle:r,min:a??0,max:o??100,splitNumber:i??10}}function ot(t,e){return t.map(a=>({value:a[e.valueKey??""],name:a[e.name??""]??e.name,title:{show:e.dataTitleShow??!0,offsetCenter:[`${e.dataTitleOffsetCenterX??0}%`,`${e.dataTitleOffsetCenterY??20}%`],...T(e,"dataTitle")},detail:{show:e.dataDetailShow??!0,...T(e,"dataDetail")}}))}const it=await u("@rdx/shared"),rt="isNumber";function nt(t){const{name:e,roseType:a}=t,o=p(t),i=h(t),r=m(t);return{name:e,type:"pie",color:r,label:i,itemStyle:o,roseType:s(it,rt)(a)?!!a:a}}function lt(t,e){return t.map(a=>({value:a[e.valueKey.value??""],name:a[e.valueKey.name??""]}))}function st(t,e){const{symbol:a,symbolSizeHeight:o,symbolSizeWidth:i}=t,r=p(t),n=h(t),l=m(t);return{name:e,type:"radar",color:l,label:n,itemStyle:r,symbol:a??"none",symbolSize:o?[i??4,o]:i??4}}function dt(t,e,a=[]){const o=e.categoryKey,i=a.map(r=>r.valueKey);return t.map(r=>({value:i.map(n=>r[n??""]),name:r[o??""]}))}function Z(t){const{symbol:e,symbolSizeHeight:a,symbolSizeWidth:o}=t;return{symbol:e??"circle",symbolSize:a?[o??4,a]:o??4}}function ct(t){const{name:e,large:a,largeThreshold:o}=t,i=h(t),r=p(t),n=m(t,"blue"),l=Z(t);return{name:e,type:"scatter",color:n,label:i,itemStyle:r,...l,large:a??!1,largeThreshold:o??2e3}}function ut(t,e){return t==null?void 0:t.map(a=>[a[e.valueKey.x??""],a[e.valueKey.y??""]])}const $=await u("@rdx/shared"),mt="isNullable",yt="isObject";function pt(t){const{showSymbol:e,connectNulls:a,lineWidth:o,lineType:i,lineForm:r,areaStyleType:n,areaStyleColor:l,name:d}=t,c=h(t),x=m(t,"blue"),C=Z(t),y={};return r==="vertical"?y.step="start":y.smooth=r==="curve"?.5:0,n!=="none"&&!s($,mt)(n)&&(y.areaStyle={color:n==="default"?void 0:l}),{name:d,type:"line",color:x,showSymbol:e??!0,...C,connectNulls:a??!1,label:c,lineStyle:{width:o??2,type:i??"solid"},...y}}function ht(t,e){return s($,yt)(e.valueKey)?t==null?void 0:t.map(a=>[a[e.valueKey.x??""],a[e.valueKey.y??""]]):t==null?void 0:t.map(a=>a[e.valueKey])}let K,A,w,v,B,W,L,k,z,O,g,S;K=await u("@rdx/shared"),A=await u("@lowcode-fe/designer/common"),w=await u("vue"),v=await u("@rdx/admin"),B="CChartRoot",W="createVNode",L="useExprValue",k="defineComponent",z="useChartColors",O="useEChartsLogic",g={bar:M,line:pt,scatter:ct,pie:nt,radar:st,funnel:tt,gauge:at},S={bar:Q,line:ht,scatter:ut,pie:lt,radar:dt,funnel:et,gauge:ot},F=s(w,k)({props:{meta:{type:Object,required:!0}},setup(t){const e=s(A,L)(()=>t.meta.data),a=s(v,z)(),o=s(A,L)(()=>t.meta.radarIndicator),{rootRef:i}=s(K,O)(r=>{var n;r.setOption({color:a.value,title:Y(t.meta),legend:G(t.meta),tooltip:j(t.meta),grid:U(t.meta),...V(o.value,t.meta),...D(e,t.meta),...P(t.meta),series:(n=t.meta.series)==null?void 0:n.map(l=>{var d,c;return{data:(d=S[l.type])==null?void 0:d.call(S,e.value,t.meta.type==="radar"?t.meta:l,o.value),...(c=g[l.type])==null?void 0:c.call(g,l,l.name)}})})});return()=>{var r;return s(w,W)(s(v,B),{class:"un-h-full",root:i.value,"onUpdate:root":n=>i.value=n,isEmpty:!((r=e.value)!=null&&r.length)},null)}}})});export{F as VChart,Tt as __tla};
