import{b as w,a as e}from"./federation-shared-d266eb0c.js";import{u as _,__tla as pe}from"./Scoped-538c9dbb.js";import{m as z}from"./utils-7a55eeef.js";import{D as xe,__tla as he}from"./Delete20Regular-050dc4cc.js";import{A as Ie,__tla as ce}from"./AddCircleOutline-1a431fb6.js";let ue,ve=Promise.all([(()=>{try{return pe}catch{}})(),(()=>{try{return he}catch{}})(),(()=>{try{return ce}catch{}})()]).then(async()=>{let D,g,t,r,U,F,V,T,B,q,A,S,$,k,j,O,G,K,M,R,L,P,H,J,Q,W,X,Y,Z,ee,ae,te,le,n,E,ne,b,N,re,C,me,oe,de,ie,se;D=await w("@rdx/shared"),g=await w("@lowcode-fe/designer/designer"),t=await w("vue"),r=await w("naive-ui"),U="NSwitch",F="NFormItem",V="NSwitch",T="NFormItem",B="NSwitch",q="NFormItem",A="NInput",S="NFormItem",$="NInput",k="NFormItem",j="NCollapseTransition",O="NIcon",G="NButton",K="NIcon",M="NButton",R="NInputGroup",L="NSwitch",P="NFormItem",H="NInput",J="NFormItem",Q="NIcon",W="NButton",X="NSwitch",Y="NFormItem",Z="NSwitch",ee="NFormItem",ae="NTab",te="NTab",le="NTabs",n="createVNode",E="Fragment",ne="createTextVNode",b="ExpressionInput",N="useDesginer",re="useRegisterVar",C="defineComponent",me="watch",oe="h",de="useBoolean",ie="NInputGroupLabel",ue=e(t,C)({props:{meta:{type:Object,required:!0}},setup(a){let v=0;e(t,me)(()=>a.meta.items,m=>{m.forEach(s=>{v=Math.max(s.uid,v)})},{immediate:!0});const{createElement:p,appendChild:x,removeChild:h,getCurElement:i,getChildren:u}=e(g,N)(),f=["headerIndex","headerExtraIndex","slotIndex","arrowIndex","globalArrowIndex"],y=_(()=>a.meta,"scopeKey","collapse");e(g,re)(m=>{const s=a.meta.scopeKey||"collapse";a.meta.itemsType===2&&(m("item",`$g('${s}').item`,"\u6298\u53E0\u9879\u914D\u7F6E",!0),m("index",`$g('${s}').index`,"\u6298\u53E0\u9879\u4E0B\u6807",!0))});let I=null;return()=>e(t,n)("div",{class:"un-px-12px un-pt-12px"},[e(t,n)(e(r,le),{defaultValue:1,value:a.meta.itemsType,"onUpdate:value":m=>a.meta.itemsType=m,onUpdateValue:m=>{var s;(s=u(i()))==null||s.filter(o=>{var c;return(c=o.meta)==null?void 0:c.type}).forEach(o=>h(o)),m===2?(x(p({metaCode:"slot",name:"\u5185\u5BB9\u63D2\u69FD",preset:{meta:{type:1}}})),a.meta.slotIndex=u(i()).length-1,a.meta.headerIndex!==void 0&&(x(p({metaCode:"slot",name:"\u5934\u90E8\u63D2\u69FD",preset:{meta:{type:2}}})),a.meta.headerIndex=u(i()).length-1),a.meta.headerExtraIndex!==void 0&&(x(p({metaCode:"slot",name:"\u5934\u90E8\u989D\u5916\u63D2\u69FD",preset:{meta:{type:3}}})),a.meta.headerExtraIndex=u(i()).length-1)):a.meta.items.forEach(o=>{o.slotIndex!==void 0&&(x(p({metaCode:"slot",name:"\u5185\u5BB9\u63D2\u69FD",preset:{meta:{type:1}}})),o.slotIndex=u(i()).filter(c=>{var l;return((l=c.meta)==null?void 0:l.type)===1}).length-1),o.headerIndex!==void 0&&(x(p({metaCode:"slot",name:"\u5934\u90E8\u63D2\u69FD",preset:{meta:{type:2}}})),o.headerIndex=u(i()).filter(c=>{var l;return((l=c.meta)==null?void 0:l.type)===2}).length-1),o.headerExtraIndex!==void 0&&(x(p({metaCode:"slot",name:"\u5934\u90E8\u989D\u5916\u63D2\u69FD",preset:{meta:{type:3}}})),o.headerExtraIndex=u(i()).filter(c=>{var l;return((l=c.meta)==null?void 0:l.type)===3}).length-1)})},size:"small",type:"segment"},{default:()=>[e(t,n)(e(r,te),{label:"\u56FA\u5B9A\u9879",name:1},null),e(t,n)(e(r,ae),{label:"\u52A8\u6001\u9879",name:2},null)]}),a.meta.itemsType===2?e(t,n)("div",{class:"un-grid un-grid-cols-2 un-gap-x-8px"},[e(t,n)(e(g,b),{label:"\u6298\u53E0\u9879",value:a.meta.itemsExpr,"onUpdate:value":m=>a.meta.itemsExpr=m,class:"un-col-span-2 un-mt-8px",defaultValue:`([
  // { title: '\u6298\u53E0\u98791', name: '1' },
  // { title: '\u6298\u53E0\u98792', name: '2' },
  // { title: '\u6298\u53E0\u98793', name: '3' },
])          
`},null),e(t,n)(e(r,ee),{label:"\u5934\u90E8\u63D2\u69FD"},{default:()=>[e(t,n)(e(r,Z),{value:a.meta.headerIndex!==void 0,onUpdateValue:m=>{m?(x(p({metaCode:"slot",name:"\u5934\u90E8\u63D2\u69FD",preset:{meta:{type:3}}})),a.meta.headerIndex=u(i()).length-1):(h(u(i())[a.meta.headerIndex]),z(a.meta,"headerIndex",f))}},null)]}),e(t,n)(e(r,Y),{label:"\u5934\u90E8\u989D\u5916\u63D2\u69FD"},{default:()=>[e(t,n)(e(r,X),{value:a.meta.headerExtraIndex!==void 0,onUpdateValue:m=>{m?(x(p({metaCode:"slot",name:"\u5934\u90E8\u989D\u5916\u63D2\u69FD",preset:{meta:{type:3}}})),a.meta.headerExtraIndex=u(i()).length-1):(h(u(i())[a.meta.headerExtraIndex]),z(a.meta,"headerExtraIndex",f))}},null)]})]):e(t,n)(e(t,E),null,[a.meta.items.map((m,s)=>e(t,n)(se,{key:m.uid,item:m,meta:a.meta,index:s,onDragstart:()=>I=s,onDragover:o=>{I!==null&&o.preventDefault()},onDrop:()=>{if(I===null||I===s)return;const o=a.meta.items[I];I<s?(a.meta.items.splice(s+1,0,o),a.meta.items.splice(I,1)):(a.meta.items.splice(I,1),a.meta.items.splice(s,0,o))}},null)),e(t,n)(e(r,W),{onClick:()=>{a.meta.items.push({uid:v+=1,title:`\u6298\u53E0\u9879${a.meta.items.length+1}`,name:`${a.meta.items.length+1}`})},text:!0,type:"primary",size:"small",class:a.meta.items.length?"un-mt-4px un-mb-8px":"un-mb-8px"},{default:()=>[e(t,ne)("\u65B0\u589E\u4E00\u9879")],icon:()=>e(t,n)(e(r,Q),{size:14,component:Ie},null)})]),e(t,n)(e(r,J),{label:"\u7EC4\u4EF6\u6807\u8BC6"},{default:()=>[e(t,n)(e(r,H),{value:y.v,"onUpdate:value":m=>y.v=m,onBlur:y.on},null)]}),e(t,n)(e(r,P),{label:"\u7BAD\u5934\u63D2\u69FD"},{default:()=>[e(t,n)(e(r,L),{value:a.meta.globalArrowIndex!==void 0,onUpdateValue:m=>{m?(x(p({metaCode:"slot",name:"\u7BAD\u5934\u63D2\u69FD"})),a.meta.globalArrowIndex=u(i()).filter(s=>{var o;return!((o=s.meta)!=null&&o.type)}).length-1):(h(u(i()).filter(s=>{var o;return!((o=s.meta)!=null&&o.type)})[a.meta.globalArrowIndex]),z(a.meta,"globalArrowIndex",f))}},null)]}),e(t,n)(e(g,b),{label:"\u81EA\u5B9A\u4E49\u5C5E\u6027",value:a.meta.props,"onUpdate:value":m=>a.meta.props=m,defaultValue:`({
  //
})
`},null)])}}),se=e(t,C)({props:{meta:{type:Object,required:!0},item:{type:Object,required:!0},index:{type:Number,required:!0},onDragstart:{type:Function,required:!0},onDrop:{type:Function,required:!0},onDragover:{type:Function,required:!0}},setup(a){const{createElement:v,appendChild:p,removeChild:x,getCurElement:h,getChildren:i}=e(g,N)(),u=_(a.item,"name"),f=_(a.item,"title"),y=()=>{a.item.slotIndex===void 0?(p(v({metaCode:"slot",name:"\u5185\u5BB9\u63D2\u69FD",preset:{meta:{type:1}}})),a.item.slotIndex=i(h()).filter(l=>{var d;return((d=l.meta)==null?void 0:d.type)===1}).length-1):(x(i(h()).filter(l=>{var d;return((d=l.meta)==null?void 0:d.type)===1})[a.item.slotIndex]),a.meta.items.forEach(l=>{l.slotIndex!==void 0&&l.slotIndex>a.item.slotIndex&&(l.slotIndex-=1)}),delete a.item.slotIndex)},I=()=>{a.item.headerIndex===void 0?(p(v({metaCode:"slot",name:"\u5934\u90E8\u63D2\u69FD",preset:{meta:{type:2}}})),a.item.headerIndex=i(h()).filter(l=>{var d;return((d=l.meta)==null?void 0:d.type)===2}).length-1):(x(i(h()).filter(l=>{var d;return((d=l.meta)==null?void 0:d.type)===2})[a.item.headerIndex]),a.meta.items.forEach(l=>{l.headerIndex!==void 0&&l.headerIndex>a.item.headerIndex&&(l.headerIndex-=1)}),delete a.item.headerIndex)},m=()=>{a.item.headerExtraIndex===void 0?(p(v({metaCode:"slot",name:"\u5934\u90E8\u989D\u5916\u63D2\u69FD",preset:{meta:{type:3}}})),a.item.headerExtraIndex=i(h()).filter(l=>{var d;return((d=l.meta)==null?void 0:d.type)===3}).length-1):(x(i(h()).filter(l=>{var d;return((d=l.meta)==null?void 0:d.type)===3})[a.item.headerExtraIndex]),a.meta.items.forEach(l=>{l.headerExtraIndex!==void 0&&l.headerExtraIndex>a.item.headerExtraIndex&&(l.headerExtraIndex-=1)}),delete a.item.headerExtraIndex)},s=()=>{a.item.arrowIndex===void 0?(p(v({metaCode:"slot",name:"\u7BAD\u5934\u63D2\u69FD",preset:{meta:{type:4}}})),a.item.arrowIndex=i(h()).filter(l=>{var d;return((d=l.meta)==null?void 0:d.type)===4}).length-1):(x(i(h()).filter(l=>{var d;return((d=l.meta)==null?void 0:d.type)===4})[a.item.arrowIndex]),a.meta.items.forEach(l=>{l.arrowIndex!==void 0&&l.arrowIndex>a.item.arrowIndex&&(l.arrowIndex-=1)}),delete a.item.arrowIndex)},{booleanRef:o,toggle:c}=e(D,de)();return()=>e(t,n)(e(t,E),null,[e(t,n)(e(r,R),{class:"un-mt-8px",onDragstart:a.onDragstart,onDrop:a.onDrop,onDragover:a.onDragover,draggable:!0},{default:()=>[e(t,oe)(e(r,ie),{size:"small",class:"un-flex-1 un-cursor-pointer",onClick:c},{default:()=>a.item.title}),e(t,n)(e(r,M),{size:"small",onClick:()=>{a.item.headerIndex!==void 0&&I(),a.item.headerExtraIndex!==void 0&&m(),a.item.slotIndex!==void 0&&y()}},{default:()=>[e(t,n)(e(r,K),{size:16,component:xe},null)]}),e(t,n)(e(r,G),{size:"small"},{default:()=>[e(t,n)(e(r,O),null,{default:()=>[e(t,n)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e(t,n)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z",fill:"currentColor"},null)])]})]})]}),e(t,n)(e(r,j),{show:o.value,class:"un-mt-8px"},{default:()=>[e(t,n)("div",{class:"un-grid un-grid-cols-2 un-gap-x-8px un-pt-8px un-px-8px un-bg-var(--body-color) un-rounded-normal"},[e(t,n)(e(r,k),{label:"\u6298\u53E0\u9879\u6807\u9898"},{default:()=>[e(t,n)(e(r,$),{value:f.v,"onUpdate:value":l=>f.v=l,onBlur:f.on,size:"small"},null)]}),e(t,n)(e(r,S),{label:"\u6298\u53E0\u9879key"},{default:()=>[e(t,n)(e(r,A),{value:u.v,"onUpdate:value":l=>u.v=l,onBlur:u.on,size:"small"},null)]}),e(t,n)(e(r,q),{label:"\u5934\u90E8\u63D2\u69FD"},{default:()=>[e(t,n)(e(r,B),{value:a.item.headerIndex!==void 0,onUpdateValue:I},null)]}),e(t,n)(e(r,T),{label:"\u5934\u90E8\u989D\u5916\u63D2\u69FD"},{default:()=>[e(t,n)(e(r,V),{value:a.item.headerExtraIndex!==void 0,onUpdateValue:m},null)]}),e(t,n)(e(r,F),{label:"\u7BAD\u5934\u63D2\u69FD"},{default:()=>[e(t,n)(e(r,U),{value:a.item.arrowIndex!==void 0,onUpdateValue:s},null)]}),e(t,n)(e(g,b),{class:"un-col-span-2",label:"\u81EA\u5B9A\u4E49\u5C5E\u6027",value:a.item.props,"onUpdate:value":l=>a.item.props=l},null)])]})])}})});export{ue as Collapse,ve as __tla};
