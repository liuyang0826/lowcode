import{b,a as e}from"./federation-shared-d266eb0c.js";import{u as z,__tla as Ie}from"./Scoped-538c9dbb.js";import{m as y}from"./utils-7a55eeef.js";import{D as ve,__tla as fe}from"./Delete20Regular-050dc4cc.js";import{A as ge,__tla as he}from"./AddCircleOutline-1a431fb6.js";let xe,ye=Promise.all([(()=>{try{return Ie}catch{}})(),(()=>{try{return fe}catch{}})(),(()=>{try{return he}catch{}})()]).then(async()=>{let U,f,l,m,D,F,V,E,S,T,B,q,$,k,j,O,G,K,M,R,A,L,P,H,J,Q,W,X,Y,Z,ee,te,le,ae,ne,me,oe,a,C,ie,N,w,de,_,se,re,ue,pe,ce;U=await b("@rdx/shared"),f=await b("@lowcode-fe/designer/designer"),l=await b("vue"),m=await b("naive-ui"),D="NSwitch",F="NFormItem",V="NSwitch",E="NFormItem",S="NSwitch",T="NFormItem",B="NInput",q="NFormItem",$="NInput",k="NFormItem",j="NCollapseTransition",O="NIcon",G="NButton",K="NIcon",M="NButton",R="NInputGroup",A="NSwitch",L="NFormItem",P="NSwitch",H="NFormItem",J="NInput",Q="NFormItem",W="NIcon",X="NButton",Y="NSwitch",Z="NFormItem",ee="NSwitch",te="NFormItem",le="NSwitch",ae="NFormItem",ne="NTab",me="NTab",oe="NTabs",a="createVNode",C="Fragment",ie="createTextVNode",N="ExpressionInput",w="useDesginer",de="useRegisterVar",_="defineComponent",se="watch",re="h",ue="useBoolean",pe="NInputGroupLabel",xe=e(l,_)({props:{meta:{type:Object,required:!0}},setup(t){let g=0;e(l,se)(()=>t.meta.items,o=>{o.forEach(r=>{g=Math.max(r.uid,g)})},{immediate:!0});const{createElement:c,appendChild:p,removeChild:x,getCurElement:s,getChildren:u}=e(f,w)(),v=["errorIconIndex","finishIconIndex","iconIndex","titleIndex"],h=z(()=>t.meta,"scopeKey","steps");e(f,de)(o=>{if(t.meta.itemsType===2){const r=t.meta.scopeKey||"steps";o("item",`$g('${r}').item`,"\u6B65\u9AA4\u9879\u914D\u7F6E",!0),o("index",`$g('${r}').index`,"\u6B65\u9AA4\u9879\u4E0B\u6807",!0)}});let I=null;return()=>e(l,a)("div",{class:"un-px-12px un-pt-12px"},[e(l,a)(e(m,oe),{defaultValue:1,value:t.meta.itemsType,"onUpdate:value":o=>t.meta.itemsType=o,onUpdateValue:o=>{var r;(r=u(s()))==null||r.filter(i=>{var n;return(n=i.meta)==null?void 0:n.type}).forEach(i=>x(i)),o===2?(t.meta.slotIndex!==void 0&&(p(c({metaCode:"slot",name:"\u63CF\u8FF0\u63D2\u69FD",preset:{meta:{type:1}}})),t.meta.slotIndex=u(s()).length-1),t.meta.titleIndex!==void 0&&(p(c({metaCode:"slot",name:"\u6807\u9898\u63D2\u69FD",preset:{meta:{type:2}}})),t.meta.titleIndex=u(s()).length-1),t.meta.iconIndex!==void 0&&(p(c({metaCode:"slot",name:"\u56FE\u6807\u63D2\u69FD",preset:{meta:{type:3}}})),t.meta.iconIndex=u(s()).length-1)):t.meta.items.forEach(i=>{i.slotIndex!==void 0&&(p(c({metaCode:"slot",name:"\u63CF\u8FF0\u63D2\u69FD",preset:{meta:{type:1}}})),i.slotIndex=u(s()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===1}).length-1),i.titleIndex!==void 0&&(p(c({metaCode:"slot",name:"\u6807\u9898\u63D2\u69FD",preset:{meta:{type:2}}})),i.titleIndex=u(s()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===2}).length-1),i.iconIndex!==void 0&&(p(c({metaCode:"slot",name:"\u56FE\u6807\u63D2\u69FD",preset:{meta:{type:3}}})),i.iconIndex=u(s()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===3}).length-1)})},size:"small",type:"segment"},{default:()=>[e(l,a)(e(m,me),{label:"\u56FA\u5B9A\u9879",name:1},null),e(l,a)(e(m,ne),{label:"\u52A8\u6001\u9879",name:2},null)]}),t.meta.itemsType===2?e(l,a)("div",{class:"un-grid un-grid-cols-2 un-gap-x-8px"},[e(l,a)(e(f,N),{label:"\u6807\u7B7E\u9879",value:t.meta.itemsExpr,"onUpdate:value":o=>t.meta.itemsExpr=o,class:"un-col-span-2 un-mt-8px",defaultValue:`([
  // { title: '\u6B65\u9AA41', description: '\u6B65\u9AA4\u63CF\u8FF0' },
  // { title: '\u6B65\u9AA42', description: '\u6B65\u9AA4\u63CF\u8FF0' },
  // { title: '\u6B65\u9AA43', description: '\u6B65\u9AA4\u63CF\u8FF0' },
])          
`},null),e(l,a)(e(m,ae),{label:"\u6807\u9898\u63D2\u69FD"},{default:()=>[e(l,a)(e(m,le),{value:t.meta.titleIndex!==void 0,onUpdateValue:o=>{o?(p(c({metaCode:"slot",name:"\u6807\u9898\u63D2\u69FD",preset:{meta:{type:2}}})),t.meta.titleIndex=u(s()).length-1):(x(u(s())[t.meta.titleIndex]),y(t.meta,"titleIndex",v))}},null)]}),e(l,a)(e(m,te),{label:"\u63CF\u8FF0\u63D2\u69FD"},{default:()=>[e(l,a)(e(m,ee),{value:t.meta.slotIndex!==void 0,onUpdateValue:o=>{o?(p(c({metaCode:"slot",name:"\u6807\u9898\u63D2\u69FD",preset:{meta:{type:1}}})),t.meta.slotIndex=u(s()).length-1):(x(u(s())[t.meta.slotIndex]),y(t.meta,"slotIndex",v))}},null)]}),e(l,a)(e(m,Z),{label:"\u56FE\u6807\u63D2\u69FD"},{default:()=>[e(l,a)(e(m,Y),{value:t.meta.iconIndex!==void 0,onUpdateValue:o=>{o?(p(c({metaCode:"slot",name:"\u56FE\u6807\u63D2\u69FD",preset:{meta:{type:3}}})),t.meta.iconIndex=u(s()).length-1):(x(u(s())[t.meta.iconIndex]),y(t.meta,"iconIndex",v))}},null)]})]):e(l,a)(e(l,C),null,[t.meta.items.map((o,r)=>e(l,a)(ce,{key:o.uid,item:o,meta:t.meta,index:r,onDragstart:()=>I=r,onDragover:i=>{I!==null&&i.preventDefault()},onDrop:()=>{if(I===null||I===r)return;const i=t.meta.items[I];I<r?(t.meta.items.splice(r+1,0,i),t.meta.items.splice(I,1)):(t.meta.items.splice(I,1),t.meta.items.splice(r,0,i))}},null)),e(l,a)(e(m,X),{onClick:()=>{t.meta.items.push({uid:g+=1,title:`\u6807\u7B7E${t.meta.items.length+1}`,description:"\u6B65\u9AA4\u63CF\u8FF0"})},text:!0,type:"primary",size:"small",class:t.meta.items.length?"un-mt-4px un-mb-8px":"un-mb-8px"},{default:()=>[e(l,ie)("\u65B0\u589E\u4E00\u9879")],icon:()=>e(l,a)(e(m,W),{size:14,component:ge},null)})]),e(l,a)(e(m,Q),{label:"\u7EC4\u4EF6\u6807\u8BC6"},{default:()=>[e(l,a)(e(m,J),{value:h.v,"onUpdate:value":o=>h.v=o,onBlur:h.on},null)]}),e(l,a)("div",{class:"un-grid un-grid-cols-2 un-gap-x-8px"},[e(l,a)(e(m,H),{label:"\u5B8C\u6210\u63D2\u69FD"},{default:()=>[e(l,a)(e(m,P),{value:t.meta.finishIconIndex!==void 0,onUpdateValue:o=>{o?(p(c({metaCode:"slot",name:"\u5B8C\u6210\u63D2\u69FD"})),t.meta.finishIconIndex=u(s()).filter(r=>{var i;return!((i=r.meta)!=null&&i.type)}).length-1):(x(u(s()).filter(r=>{var i;return!((i=r.meta)!=null&&i.type)})[t.meta.finishIconIndex]),y(t.meta,"finishIconIndex",v))},size:"small"},null)]}),e(l,a)(e(m,L),{label:"\u9519\u8BEF\u63D2\u69FD"},{default:()=>[e(l,a)(e(m,A),{value:t.meta.errorIconIndex!==void 0,onUpdateValue:o=>{o?(p(c({metaCode:"slot",name:"\u9519\u8BEF\u63D2\u69FD"})),t.meta.errorIconIndex=u(s()).filter(r=>{var i;return!((i=r.meta)!=null&&i.type)}).length-1):(x(u(s()).filter(r=>{var i;return!((i=r.meta)!=null&&i.type)})[t.meta.errorIconIndex]),y(t.meta,"errorIconIndex",v))},size:"small"},null)]})]),e(l,a)(e(f,N),{label:"\u81EA\u5B9A\u4E49\u5C5E\u6027",value:t.meta.props,"onUpdate:value":o=>t.meta.props=o,defaultValue:`({
  //
})
`},null)])}}),ce=e(l,_)({props:{meta:{type:Object,required:!0},item:{type:Object,required:!0},index:{type:Number,required:!0},onDragstart:{type:Function,required:!0},onDrop:{type:Function,required:!0},onDragover:{type:Function,required:!0}},setup(t){const{createElement:g,appendChild:c,removeChild:p,getCurElement:x,getChildren:s}=e(f,w)(),u=z(()=>t.item,"title"),v=z(()=>t.item,"description"),h=()=>{t.item.titleIndex===void 0?(c(g({metaCode:"slot",name:"\u6807\u9898\u63D2\u69FD",preset:{meta:{type:2}}})),t.item.titleIndex=s(x()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===2}).length-1):(p(s(x()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===2})[t.item.titleIndex]),t.meta.items.forEach(n=>{n.titleIndex!==void 0&&n.titleIndex>t.item.titleIndex&&(n.titleIndex-=1)}),delete t.item.titleIndex)},I=()=>{t.item.slotIndex===void 0?(c(g({metaCode:"slot",name:"\u63CF\u8FF0\u63D2\u69FD",preset:{meta:{type:1}}})),t.item.slotIndex=s(x()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===1}).length-1):(p(s(x()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===1})[t.item.slotIndex]),t.meta.items.forEach(n=>{n.slotIndex!==void 0&&n.slotIndex>t.item.slotIndex&&(n.slotIndex-=1)}),delete t.item.slotIndex)},o=()=>{t.item.iconIndex===void 0?(c(g({metaCode:"slot",name:"\u56FE\u6807\u63D2\u69FD",preset:{meta:{type:3}}})),t.item.iconIndex=s(x()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===3}).length-1):(p(s(x()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===3})[t.item.iconIndex]),t.meta.items.forEach(n=>{n.iconIndex!==void 0&&n.iconIndex>t.item.iconIndex&&(n.iconIndex-=1)}),delete t.item.iconIndex)},{booleanRef:r,toggle:i}=e(U,ue)();return()=>e(l,a)(e(l,C),null,[e(l,a)(e(m,R),{class:"un-mt-8px",onDragstart:t.onDragstart,onDrop:t.onDrop,onDragover:t.onDragover,draggable:!0},{default:()=>[e(l,re)(e(m,pe),{size:"small",class:"un-flex-1 un-cursor-pointer",onClick:i},{default:()=>t.item.title}),e(l,a)(e(m,M),{size:"small",onClick:()=>{t.item.titleIndex!==void 0&&h(),t.item.iconIndex!==void 0&&o(),t.item.slotIndex!==void 0&&I(),t.meta.items.splice(t.index,1),p(s(x()).filter(n=>{var d;return((d=n.meta)==null?void 0:d.type)===1})[t.index]),delete t.item.slotIndex}},{default:()=>[e(l,a)(e(m,K),{size:16,component:ve},null)]}),e(l,a)(e(m,G),{size:"small"},{default:()=>[e(l,a)(e(m,O),null,{default:()=>[e(l,a)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e(l,a)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z",fill:"currentColor"},null)])]})]})]}),e(l,a)(e(m,j),{show:r.value,class:"un-mt-8px"},{default:()=>[e(l,a)("div",{class:"un-grid un-grid-cols-2 un-gap-x-8px un-pt-8px un-px-8px un-bg-var(--body-color) un-rounded-normal"},[e(l,a)(e(m,k),{label:"\u6B65\u9AA4\u6807\u9898"},{default:()=>[e(l,a)(e(m,$),{value:u.v,"onUpdate:value":n=>u.v=n,onBlur:u.on,size:"small"},null)]}),e(l,a)(e(m,q),{label:"\u6B65\u9AA4\u63CF\u8FF0"},{default:()=>[e(l,a)(e(m,B),{value:v.v,"onUpdate:value":n=>v.v=n,onBlur:v.on,size:"small"},null)]}),e(l,a)(e(m,T),{label:"\u6807\u9898\u63D2\u69FD"},{default:()=>[e(l,a)(e(m,S),{value:t.item.titleIndex!==void 0,onUpdateValue:h},null)]}),e(l,a)(e(m,E),{label:"\u63CF\u8FF0\u63D2\u69FD"},{default:()=>[e(l,a)(e(m,V),{value:t.item.slotIndex!==void 0,onUpdateValue:I},null)]}),e(l,a)(e(m,F),{label:"\u56FE\u6807\u63D2\u69FD"},{default:()=>[e(l,a)(e(m,D),{value:t.item.iconIndex!==void 0,onUpdateValue:o},null)]}),e(l,a)(e(f,N),{class:"un-col-span-2",label:"\u81EA\u5B9A\u4E49\u5C5E\u6027",value:t.item.props,"onUpdate:value":n=>t.item.props=n},null)])]})])}})});export{xe as Steps,ye as __tla};
