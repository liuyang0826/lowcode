import{b as h,a as e}from"./federation-shared-d266eb0c.js";import{u as z,__tla as xe}from"./Scoped-538c9dbb.js";import{m as _}from"./utils-7a55eeef.js";import{D as ce,__tla as fe}from"./Delete20Regular-050dc4cc.js";import{A as be,__tla as ve}from"./AddCircleOutline-1a431fb6.js";let pe,Ie=Promise.all([(()=>{try{return xe}catch{}})(),(()=>{try{return fe}catch{}})(),(()=>{try{return ve}catch{}})()]).then(async()=>{let D,f,l,o,U,E,F,V,T,B,q,P,S,$,k,j,O,G,K,M,R,A,L,H,J,Q,W,X,Y,Z,ee,ae,te,le,ne,n,N,me,y,C,oe,w,se,ie,ue,re,de;D=await h("@rdx/shared"),f=await h("@lowcode-fe/designer/designer"),l=await h("vue"),o=await h("naive-ui"),U="NSelect",E="NFormItem",F="NSwitch",V="NFormItem",T="NInput",B="NFormItem",q="NInput",P="NFormItem",S="NCollapseTransition",$="NIcon",k="NButton",j="NIcon",O="NButton",G="NInputGroup",K="NSwitch",M="NFormItem",R="NSwitch",A="NFormItem",L="NSwitch",H="NFormItem",J="NSelect",Q="NFormItem",W="NInput",X="NFormItem",Y="NIcon",Z="NButton",ee="NSwitch",ae="NFormItem",te="NTab",le="NTab",ne="NTabs",n="createVNode",N="Fragment",me="createTextVNode",y="ExpressionInput",C="useDesginer",oe="useRegisterVar",w="defineComponent",se="watch",ie="h",ue="useBoolean",re="NInputGroupLabel",pe=e(l,w)({props:{meta:{type:Object,required:!0}},setup(a){let I=0;e(l,se)(()=>a.meta.items,s=>{s.forEach(t=>{I=Math.max(t.uid,I)})},{immediate:!0});const{createElement:d,appendChild:r,removeChild:x,getCurElement:i,getChildren:u}=e(f,C)(),b=["prefixIndex","suffixIndex","slotIndex","tabIndex"],v=z(()=>a.meta,"scopeKey","tabs");e(f,oe)(s=>{if(a.meta.itemsType===2){const t=a.meta.scopeKey||"tabs";s("tab",`$g('${t}').item`,"\u6807\u7B7E\u9879\u914D\u7F6E",!0),s("tabIndex",`$g('${t}').index`,"\u6807\u7B7E\u9879\u4E0B\u6807",!0)}});let p=null;return()=>e(l,n)("div",{class:"un-px-12px un-pt-12px"},[e(l,n)(e(o,ne),{defaultValue:1,value:a.meta.itemsType,"onUpdate:value":s=>a.meta.itemsType=s,onUpdateValue:s=>{var t;(t=u(i()))==null||t.filter(m=>{var c;return(c=m.meta)==null?void 0:c.type}).forEach(m=>x(m)),s===2?(a.meta.noPanel||(r(d({metaCode:"slot",name:"\u5185\u5BB9\u63D2\u69FD",preset:{meta:{type:1}}})),a.meta.slotIndex=u(i()).length-1),a.meta.tabIndex!==void 0&&(r(d({metaCode:"slot",name:"\u6807\u7B7E\u63D2\u69FD",preset:{meta:{type:2}}})),a.meta.tabIndex=u(i()).length-1)):a.meta.items.forEach(m=>{a.meta.noPanel||(r(d({metaCode:"slot",name:"\u5185\u5BB9\u63D2\u69FD",preset:{meta:{type:1}}})),m.slotIndex=u(i()).filter(c=>{var g;return((g=c.meta)==null?void 0:g.type)===1}).length-1),m.tabIndex!==void 0&&(r(d({metaCode:"slot",name:"\u6807\u7B7E\u63D2\u69FD",preset:{meta:{type:2}}})),m.tabIndex=u(i()).filter(c=>{var g;return((g=c.meta)==null?void 0:g.type)===2}).length-1)})},size:"small",type:"segment"},{default:()=>[e(l,n)(e(o,le),{label:"\u56FA\u5B9A\u9879",name:1},null),e(l,n)(e(o,te),{label:"\u52A8\u6001\u9879",name:2},null)]}),a.meta.itemsType===2?e(l,n)("div",{class:"un-mt-12px un-grid un-grid-cols-2 un-gap-x-8px"},[e(l,n)(e(f,y),{label:"\u6807\u7B7E\u9879",value:a.meta.itemsExpr,"onUpdate:value":s=>a.meta.itemsExpr=s,class:"un-col-span-2",defaultValue:`([
  // { tab: '\u6807\u7B7E1', name: '1' },
  // { tab: '\u6807\u7B7E2', name: '2' },
  // { tab: '\u6807\u7B7E3', name: '3' },
])          
`},null),e(l,n)(e(o,ae),{label:"\u6807\u7B7E\u63D2\u69FD"},{default:()=>[e(l,n)(e(o,ee),{value:a.meta.tabIndex!==void 0,onUpdateValue:s=>{s?(r(d({metaCode:"slot",name:"\u6807\u7B7E\u63D2\u69FD",preset:{meta:{type:2}}})),a.meta.tabIndex=u(i()).length-1):(x(u(i())[a.meta.tabIndex]),_(a.meta,"tabIndex",b))}},null)]})]):e(l,n)(e(l,N),null,[a.meta.items.map((s,t)=>e(l,n)(de,{key:s.uid,item:s,meta:a.meta,index:t,onDragstart:()=>p=t,onDragover:m=>{p!==null&&m.preventDefault()},onDrop:()=>{if(p===null||p===t)return;const m=a.meta.items[p];p<t?(a.meta.items.splice(t+1,0,m),a.meta.items.splice(p,1)):(a.meta.items.splice(p,1),a.meta.items.splice(t,0,m))}},null)),e(l,n)(e(o,Z),{onClick:()=>{const s={uid:I+=1,tab:`\u6807\u7B7E${a.meta.items.length+1}`,name:`${a.meta.items.length+1}`};a.meta.items.push(s),a.meta.noPanel||(r(d({metaCode:"slot",name:"\u5185\u5BB9\u63D2\u69FD",preset:{meta:{type:1}}})),s.slotIndex=u(i()).filter(t=>{var m;return((m=t.meta)==null?void 0:m.type)===1}).length-1)},text:!0,type:"primary",size:"small",class:a.meta.items.length?"un-mt-4px un-mb-8px":"un-mb-8px"},{default:()=>[e(l,me)("\u65B0\u589E\u4E00\u9879")],icon:()=>e(l,n)(e(o,Y),{size:14,component:be},null)})]),e(l,n)(e(o,X),{label:"\u7EC4\u4EF6\u6807\u8BC6"},{default:()=>[e(l,n)(e(o,W),{value:v.v,"onUpdate:value":s=>v.v=s,onBlur:v.on},null)]}),e(l,n)("div",{class:"un-grid un-grid-cols-2 un-gap-x-8px"},[e(l,n)(e(o,Q),{label:"\u6807\u7B7E\u7C7B\u578B "},{default:()=>[e(l,n)(e(o,J),{value:a.meta.type,"onUpdate:value":s=>a.meta.type=s,options:[{label:"bar",value:"bar"},{label:"line",value:"line"},{label:"card",value:"card"},{label:"segment",value:"segment"}],defaultValue:"line"},null)]}),e(l,n)(e(o,H),{label:"\u524D\u7F00\u63D2\u69FD"},{default:()=>[e(l,n)(e(o,L),{value:a.meta.prefixIndex!==void 0,onUpdateValue:s=>{s?(r(d({metaCode:"slot",name:"\u524D\u7F00\u63D2\u69FD"})),a.meta.prefixIndex=u(i()).filter(t=>{var m;return!((m=t.meta)!=null&&m.type)}).length-1):(x(u(i()).filter(t=>{var m;return!((m=t.meta)!=null&&m.type)})[a.meta.prefixIndex]),_(a.meta,"prefixIndex",b))},size:"small"},null)]}),e(l,n)(e(o,A),{label:"\u4E0D\u4F7F\u7528\u9762\u677F"},{default:()=>[e(l,n)(e(o,R),{value:a.meta.noPanel??null,onUpdateValue:s=>{a.meta.noPanel=s,s?u(i()).filter(t=>{var m;return((m=t.meta)==null?void 0:m.type)===1}).forEach(t=>x(t)):a.meta.items.forEach(t=>{r(d({metaCode:"slot",name:"\u5185\u5BB9\u63D2\u69FD",preset:{meta:{type:1}}})),t.slotIndex=u(i()).filter(m=>{var c;return((c=m.meta)==null?void 0:c.type)===1}).length-1})}},null)]}),e(l,n)(e(o,M),{label:"\u540E\u7F00\u63D2\u69FD"},{default:()=>[e(l,n)(e(o,K),{value:a.meta.suffixIndex!==void 0,onUpdateValue:s=>{s?(r(d({metaCode:"slot",name:"\u540E\u7F00\u63D2\u69FD"})),a.meta.suffixIndex=u(i()).filter(t=>{var m;return!((m=t.meta)!=null&&m.type)}).length-1):(x(u(i()).filter(t=>{var m;return!((m=t.meta)!=null&&m.type)})[a.meta.suffixIndex]),_(a.meta,"suffixIndex",b))},size:"small"},null)]})]),e(l,n)(e(f,y),{label:"\u81EA\u5B9A\u4E49\u5C5E\u6027",value:a.meta.props,"onUpdate:value":s=>a.meta.props=s,defaultValue:`({
  //
})
`},null)])}}),de=e(l,w)({props:{meta:{type:Object,required:!0},item:{type:Object,required:!0},index:{type:Number,required:!0},onDragstart:{type:Function,required:!0},onDrop:{type:Function,required:!0},onDragover:{type:Function,required:!0}},setup(a){const{createElement:I,appendChild:d,removeChild:r,getCurElement:x,getChildren:i}=e(f,C)(),u=z(()=>a.item,"name"),b=z(()=>a.item,"tab"),v=()=>{a.item.tabIndex===void 0?(d(I({metaCode:"slot",name:"\u6807\u7B7E\u63D2\u69FD",preset:{meta:{type:2}}})),a.item.tabIndex=i(x()).filter(t=>{var m;return((m=t.meta)==null?void 0:m.type)===2}).length-1):(r(i(x()).filter(t=>{var m;return((m=t.meta)==null?void 0:m.type)===2})[a.item.tabIndex]),a.meta.items.forEach(t=>{t.tabIndex!==void 0&&t.tabIndex>a.item.tabIndex&&(t.tabIndex-=1)}),delete a.item.tabIndex)},{booleanRef:p,toggle:s}=e(D,ue)();return()=>e(l,n)(e(l,N),null,[e(l,n)(e(o,G),{class:"un-mt-8px",onDragstart:a.onDragstart,onDrop:a.onDrop,onDragover:a.onDragover,draggable:!0},{default:()=>[e(l,ie)(e(o,re),{size:"small",class:"un-flex-1 un-cursor-pointer",onClick:s},{default:()=>a.item.tab}),e(l,n)(e(o,O),{size:"small",onClick:()=>{a.item.tabIndex!==void 0&&v(),a.meta.items.splice(a.index,1),a.meta.noPanel||(r(i(x()).filter(t=>{var m;return((m=t.meta)==null?void 0:m.type)===1})[a.item.slotIndex]),a.meta.items.forEach(t=>{t.slotIndex!==void 0&&a.item.slotIndex!==void 0&&t.slotIndex>a.item.slotIndex&&(t.slotIndex-=1)}))}},{default:()=>[e(l,n)(e(o,j),{size:16,component:ce},null)]}),e(l,n)(e(o,k),{size:"small"},{default:()=>[e(l,n)(e(o,$),null,{default:()=>[e(l,n)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[e(l,n)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z",fill:"currentColor"},null)])]})]})]}),e(l,n)(e(o,S),{show:p.value,class:"un-mt-8px"},{default:()=>[e(l,n)("div",{class:"un-grid un-grid-cols-2 un-gap-x-8px un-pt-8px un-px-8px un-bg-var(--body-color) un-rounded-normal"},[e(l,n)(e(o,P),{label:"\u6807\u7B7E\u540D"},{default:()=>[e(l,n)(e(o,q),{value:b.v,"onUpdate:value":t=>b.v=t,onBlur:b.on,size:"small"},null)]}),e(l,n)(e(o,B),{label:"\u6807\u7B7E\u6807\u8BC6"},{default:()=>[e(l,n)(e(o,T),{value:u.v,"onUpdate:value":t=>u.v=t,onBlur:u.on,size:"small"},null)]}),e(l,n)(e(o,V),{label:"\u6807\u7B7E\u63D2\u69FD"},{default:()=>[e(l,n)(e(o,F),{value:a.item.tabIndex!==void 0,onUpdateValue:v},null)]}),e(l,n)(e(o,E),{label:"\u6E32\u67D3\u6A21\u5F0F"},{default:()=>[e(l,n)(e(o,U),{value:a.item.displayDirective,"onUpdate:value":t=>a.item.displayDirective=t,defaultValue:"if",options:[{label:"if",value:"if"},{label:"show",value:"show"},{label:"show:lazy",value:"show:lazy"}]},null)]}),e(l,n)(e(f,y),{class:"un-col-span-2",label:"\u81EA\u5B9A\u4E49\u5C5E\u6027",value:a.item.props,"onUpdate:value":t=>a.item.props=t},null)])]})])}})});export{pe as Tabs,Ie as __tla};
