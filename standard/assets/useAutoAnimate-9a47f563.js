import{b as H,a as x}from"./federation-shared-d266eb0c.js";let A,I=(async()=>{function u(e){return Number(e.replace(/[^0-9.-]/g,""))}function v(e,t,o){let s=t.width,i=t.height,r=o.width,a=o.height;const n=getComputedStyle(e);if(n.getPropertyValue("box-sizing")==="content-box"){const d=u(n.paddingTop)+u(n.paddingBottom)+u(n.borderTopWidth)+u(n.borderBottomWidth),p=u(n.paddingLeft)+u(n.paddingRight)+u(n.borderRightWidth)+u(n.borderLeftWidth);s-=p,r-=p,i-=d,a-=d}return[s,r,i,a]}function B(e,t,o){const[s,,i]=v(e,t,o);let r=e.parentElement;for(;r&&(getComputedStyle(r).position==="static"||r instanceof HTMLBodyElement);)r=r.parentElement;r||(r=document.body);const a=getComputedStyle(r),n=r.getBoundingClientRect(),d=Math.round(t.top-n.top)-u(a.borderTopWidth),p=Math.round(t.left-n.left)-u(a.borderLeftWidth);return[d,p,s,i]}function R(e,t){const o=new Map(e.map(n=>[n,!0])),s=new Map(t.map(n=>[n,!0])),i=new Set,r=[];e.forEach(n=>{s.has(n)?i.add(n):r.push(n)});const a=[];return t.forEach(n=>{o.has(n)?i.add(n):a.push(n)}),{addElements:a,removeElements:r,updateElements:Array.from(i)}}function M(e){const t=getComputedStyle(e).getPropertyValue("transform");if(t==="none")return;const o=t.match(/^(matrix3d)\((.+)\)$/)||t.match(/^(matrix)\((.+)\)$/);if(o)return{type:o[1],origin:t,values:o[2].split(",").map(Number)}}function W(e,t){return new KeyframeEffect(e,[{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:t*1.5,easing:"ease-in"})}function L(e,t){return new KeyframeEffect(e,[{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:t,easing:"ease-out"})}function S(e,t,o,s){const i=e.getBoundingClientRect(),r=t.left-i.left,a=t.top-i.top,[n,d,p,y]=v(e,t,i);if(r||a){const c=M(e);let h,g;return c?(c.type==="matrix3d"?(c.values[12]+=r,c.values[13]+=a):(c.values[4]+=r,c.values[5]+=a),h={transform:`${c.type}(${c.values.join(",")})`},g={transform:c.origin}):(h={transform:`translate(${r}px, ${a}px)`},g={transform:"translate(0, 0)"}),n!==d&&(h.width=`${n}px`,g.width=`${d}px`),p!==y&&(h.height=`${p}px`,g.height=`${y}px`),new KeyframeEffect(e,[h,g],{duration:o,easing:s})}}const T=250,K="ease-in-out";function j(e,t){const o=e.appendChild;e.appendChild=r=>(t(),o.call(e,r));const s=e.insertBefore;e.insertBefore=(r,a)=>(t(),s.call(e,r,a));const i=e.removeChild;e.removeChild=r=>(t(),i.call(e,r))}function z(e,t){const{duration:o=T,easing:s=K,add:i=m=>W(m,o),remove:r=m=>L(m,o),update:a=(m,E)=>S(m,E,o,s)}=t||{};let n=!1,d=!1,p,y=!1;const c=()=>{if(n||d||y)return;n=!0;const m=Array.from(e.children);p=new Map(m.map(E=>[E,E.getBoundingClientRect()])),requestAnimationFrame(()=>{n=!1,d=!0;const{addElements:E,updateElements:O,removeElements:P}=R(m,Array.from(e.children));E.forEach(l=>{const f=i(l);f&&new Animation(f).play()}),O.forEach(l=>{const f=a(l,p.get(l));f&&new Animation(f).play()}),P.forEach(l=>{e.appendChild(l);const f=p.get(l),C=r(l,f);if(!C)return;const[V,_,q,F]=B(l,f,l.getBoundingClientRect());Object.assign(l.style,{position:"absolute",top:`${V}px`,left:`${_}px`,width:`${q}px`,height:`${F}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100});const $=new Animation(C);$.addEventListener("finish",()=>{l.remove()}),$.play()}),d=!1})},h=()=>{y=!0},g=()=>{y=!1};return j(e,c),{willChange:c,pauseAnimate:h,continueAnimate:g}}const w=await H("vue"),b="ref",N="watch";A=function(e){const t=x(w,b)(null),o=x(w,b)(null);return x(w,N)(t,s=>{s&&(o.value=z(s,e))},{immediate:!0}),{rootRef:t,animatorRef:o}}})();export{I as __tla,A as u};
