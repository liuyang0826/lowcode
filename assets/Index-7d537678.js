import{a as n,b as e,__tla as H}from"./federation-shared-c16daac1.js";import{u as K,T as M,__tla as Q}from"./TableConfig-1d9e47d0.js";import{b as Y,c as U,C as W}from"./constants-278efb7a.js";import{useExprValue as X,__tla as Z}from"./shared-91b24219.js";import{__tla as ee}from"./ContainerOutlined-36177228.js";import{__tla as te}from"./Close-caa3d1b3.js";import"./babel-e625915d.js";let P,ae=Promise.all([(()=>{try{return H}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ee}catch{}})(),(()=>{try{return te}catch{}})()]).then(async()=>{const z=await n("@rdx/shared"),D="request";async function F(a){return(await e(z,D)({url:"/api/report/setting/getPreviewById",method:"get",params:a})).data}const J=await n("@rdx/shared"),$="request";async function A(a){return(await e(J,$)({url:"/api/report/setting/getResultById",method:"get",params:a})).data}let p,g,i,q,x,f,c,b,I,R,E,N,S,m,t,C,O,o,V,y,d,v,j,h,w,B,T;p=await n("@rdx/shared"),g=await n("vue-router"),i=await n("vue"),q=await n("naive-ui"),x="NButton",f="createTextVNode",c="createVNode",b="defineComponent",I="useRoute",R="useRequestLogic",E="request",N=e(i,b)({props:{meta:{type:Object,required:!0},nameExpr:{type:String},name:{type:String}},setup(a){const _=X(()=>a.nameExpr),r=e(g,I)(),{run:u,loadingRef:l}=e(p,R)(async()=>{await e(p,E)({url:r.query.prodId?"/api/report/setting/download":r.query.id?"/api/report/setting/previewDownload":"",responseType:"blob",params:r.query.prodId?{id:r.query.prodId}:r.query.id?{id:r.query.id}:{}})},{manual:!0});return()=>e(i,c)("div",{class:"un-relative un-h-45px un-bg-var(--card-color) un-lh-44px un-text-center un-text-18px un-font-bold un-b-b-1px un-b-b-solid un-border-var(--divider-color)"},[a.nameExpr?_.value:a.name,e(i,c)(e(q,x),{size:"small",onClick:u,loading:l.value,class:"un-absolute un-right-12px un-top-50% un-translate-y--50%"},{default:()=>[e(i,f)("\u4E0B\u8F7D")]})])}}),S=await n("@rdx/shared"),m=await n("vue-router"),t=await n("vue"),C=await n("naive-ui"),O="NSpin",o="createVNode",V="Fragment",y="defineComponent",d="provide",v="reactive",j="shallowReactive",h="ref",w="useRoute",B="useRequestLogic",P=e(t,y)({setup(){const a=e(m,w)();return()=>e(t,o)(T,{key:a.query.prodId||a.query.id},null)}}),T=e(t,y)({setup(){e(t,d)(Y,e(t,v)({}));const a=e(t,v)({});e(t,d)(U,a);const _=e(t,j)({});e(t,d)(W,_);const r=K(!0),u=e(m,w)(),l=e(t,h)(),k=e(t,h)(),{loadingRef:G}=e(S,B)(async()=>(await(u.query.prodId?A:F)(u.query.prodId?{id:u.query.prodId}:{id:u.query.id})).content,{ready:()=>u.query.prodId||u.query.id,onSuccess(s){const L=s.reportSchema;L&&Object.assign(r,JSON.parse(L)),Object.assign(a,s.data),l.value=s.nameExpr,k.value=s.name,document.title=`\u62A5\u8868\u9884\u89C8 - ${s.name}`}});return()=>e(t,o)(e(t,V),null,[e(t,o)(N,{meta:r,nameExpr:l.value,name:k.value},null),e(t,o)(e(C,O),{show:G.value},{default:()=>[e(t,o)(M,{meta:r,style:"height: calc(100vh - 45px);width: 100vw;"},null)]})])}})});export{ae as __tla,P as default};
