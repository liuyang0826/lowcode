import{a as n,b as e,__tla as H}from"./federation-shared-a49272f9.js";import{u as K,T as M,__tla as Q}from"./TableConfig-90c6db81.js";import{S as Y,a as U,C as W}from"./constants-3149fad0.js";import{useExprValue as X,__tla as Z}from"./shared-eac49e6b.js";import{__tla as ee}from"./ContainerOutlined-d03408ec.js";import"./debounce-0459d24a.js";import{__tla as te}from"./TextAlignRight16Filled-c135dfb8.js";import{__tla as ae}from"./Close-a51d54b5.js";import"./babel-e625915d.js";let P,re=Promise.all([(()=>{try{return H}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ee}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return ae}catch{}})()]).then(async()=>{const z=await n("@rdx/shared"),D="request";async function F(a){return(await e(z,D)({url:"/api/report/setting/getPreviewById",method:"get",params:a})).data}const J=await n("@rdx/shared"),$="request";async function A(a){return(await e(J,$)({url:"/api/report/setting/getResultById",method:"get",params:a})).data}let p,g,i,q,x,f,c,b,I,R,S,E,N,m,t,C,O,o,V,y,d,_,j,v,h,B,T;p=await n("@rdx/shared"),g=await n("vue-router"),i=await n("vue"),q=await n("naive-ui"),x="NButton",f="createTextVNode",c="createVNode",b="defineComponent",I="useRoute",R="useRequestLogic",S="request",E=e(i,b)({props:{meta:{type:Object,required:!0},nameExpr:{type:String},name:{type:String}},setup(a){const w=X(()=>a.nameExpr),r=e(g,I)(),{run:u,loadingRef:l}=e(p,R)(async()=>{await e(p,S)({url:r.query.prodId?"/api/report/setting/download":r.query.id?"/api/report/setting/previewDownload":"",responseType:"blob",params:r.query.prodId?{id:r.query.prodId}:r.query.id?{id:r.query.id}:{}})},{manual:!0});return()=>e(i,c)("div",{class:"un-relative un-h-45px un-bg-var(--card-color) un-lh-44px un-text-center un-text-18px un-font-bold un-b-b-1px un-b-b-solid un-border-var(--divider-color)"},[a.nameExpr?w.value:a.name,e(i,c)(e(q,x),{size:"small",onClick:u,loading:l.value,class:"un-absolute un-right-12px un-top-50% un-translate-y--50%"},{default:()=>[e(i,f)("\u4E0B\u8F7D")]})])}}),N=await n("@rdx/shared"),m=await n("vue-router"),t=await n("vue"),C=await n("naive-ui"),O="NSpin",o="createVNode",V="Fragment",y="defineComponent",d="provide",_="reactive",j="shallowReactive",v="ref",h="useRoute",B="useRequestLogic",P=e(t,y)({setup(){const a=e(m,h)();return()=>e(t,o)(T,{key:a.query.prodId||a.query.id},null)}}),T=e(t,y)({setup(){e(t,d)(Y,e(t,_)({}));const a=e(t,_)({});e(t,d)(U,a);const w=e(t,j)({});e(t,d)(W,w);const r=K(!0),u=e(m,h)(),l=e(t,v)(),k=e(t,v)(),{loadingRef:G}=e(N,B)(async()=>(await(u.query.prodId?A:F)(u.query.prodId?{id:u.query.prodId}:{id:u.query.id})).content,{ready:()=>u.query.prodId||u.query.id,onSuccess(s){const L=s.reportSchema;L&&Object.assign(r,JSON.parse(L)),Object.assign(a,s.data),l.value=s.nameExpr,k.value=s.name,document.title=`\u62A5\u8868\u9884\u89C8 - ${s.name}`}});return()=>e(t,o)(e(t,V),null,[e(t,o)(E,{meta:r,nameExpr:l.value,name:k.value},null),e(t,o)(e(C,O),{show:G.value},{default:()=>[e(t,o)(M,{meta:r,style:"height: calc(100vh - 45px);width: 100vw;"},null)]})])}})});export{re as __tla,P as default};
